<!DOCTYPE html>
<html lang="zh-CN">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="ä¸€ç›´å¯¹ iOS çš„åŠ¨ç”»å¾ˆæ„Ÿå…´è¶£ï¼Œç¾å¥½çš„äº¤äº’ä½“éªŒçš„ç¡®ä¼šç»™ App çš„ä½¿ç”¨å¸¦æ¥æ„‰æ‚¦çš„æ„Ÿè§‰ï¼Œä¹Ÿèƒ½è®©å¼€å‘è€…å¼•å¯¼ç€ç”¨æˆ·æ­£ç¡®çš„ä½¿ç”¨ Appã€‚ æœ€è¿‘å­¦ä¹ äº† Ray çš„ Beginning iOS Animationsï¼Œè¯•ç€æ€»ç»“ä¸€ä¸‹çŸ¥è¯†ç‚¹ï¼Œæƒå½“å¤ä¹ ã€‚"/><meta name="keywords" content="iOS, Swift, Animations, SilkSong's Blog" /><link rel="alternate" href="/default" title="SilkSong's Blog"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="http://silksong.me/2017/07/18/Beginning-iOS-Animations/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":"","latex":false};
</script>

    <title>Beginning iOS Animations - SilkSong's Blog</title>
  <meta name="generator" content="Hexo 4.2.0"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">SilkSong's Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/tags">
        <li class="mobile-menu-item">Tags
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">SilkSong's Blog</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            Tags
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">Beginning iOS Animations
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-07-18
        </span></div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Constraint-Animations"><span class="toc-text">Constraint Animations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Intermediate-Constraints"><span class="toc-text">Intermediate Constraints</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Animation"><span class="toc-text">Spring Animation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#View-Transitions"><span class="toc-text">View Transitions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Beginning-View-Animations"><span class="toc-text">Beginning View Animations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Intermediate-View-Animations"><span class="toc-text">Intermediate View Animations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Keyframe-Animations"><span class="toc-text">Keyframe Animations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Intermediate-View-Controller-Transitions"><span class="toc-text">Intermediate View Controller Transitions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æœ€å"><span class="toc-text">æœ€å</span></a></li></ol>
    </div>
  </div><div class="post-content"><p>ä¸€ç›´å¯¹ iOS çš„åŠ¨ç”»å¾ˆæ„Ÿå…´è¶£ï¼Œç¾å¥½çš„äº¤äº’ä½“éªŒçš„ç¡®ä¼šç»™ App çš„ä½¿ç”¨å¸¦æ¥æ„‰æ‚¦çš„æ„Ÿè§‰ï¼Œä¹Ÿèƒ½è®©å¼€å‘è€…å¼•å¯¼ç€ç”¨æˆ·æ­£ç¡®çš„ä½¿ç”¨ Appã€‚ æœ€è¿‘å­¦ä¹ äº† Ray çš„ Beginning iOS Animationsï¼Œè¯•ç€æ€»ç»“ä¸€ä¸‹çŸ¥è¯†ç‚¹ï¼Œæƒå½“å¤ä¹ ã€‚</p>
<h3 id="Constraint-Animations"><a href="#Constraint-Animations" class="headerlink" title="Constraint Animations"></a>Constraint Animations</h3><p>åœ¨çœ‹è¿™ä¸€éƒ¨åˆ†ä¹‹å‰ï¼Œæˆ‘åªçœ‹è¿‡å’Œçº¦æŸæ— å…³çš„åŠ¨ç”»ä»£ç ï¼Œå®ƒä»¬éå¸¸ä¸ä¸€æ ·ã€‚ç„¶è€Œï¼Œå…¶å® non-constraint animations åªæ˜¯ä½ é€šè¿‡ animation block ç›´æ¥æ”¹å˜ä¸€ä¸ªè§†å›¾çš„å±æ€§, ä¹‹å UIKit ä¼šè‡ªåŠ¨æƒ³åŠæ³•å¦‚ä½•åˆ›é€ å‡ºåŠ¨ç”»è€Œå·²ã€‚</p>
<p><code>layoutIfNeeded()</code> ä¼šå¯¹äº layout çš„æ¯ä¸€ä¸ªè§†å›¾æ›´æ–° center, bounds, ä»»ä½•ä¸€ä¸ªå¯ä»¥åŠ¨ç”»åŒ–çš„æ”¹å˜éƒ½ä¼šå‘ç”ŸåŠ¨ç”»æ•ˆæœï¼Œå› ä¸º bounds æ˜¯ä¸€ä¸ª animatable property, å³ä½¿ textLabel çš„æ–‡å­—ç¬é—´å˜åŒ–ï¼Œå®ƒçš„ size å¯èƒ½ä¸èƒ½ç«‹åˆ»èµ¶ä¸Šå®ƒçš„å†…å®¹, äºæ˜¯åœ¨ä½ è‡ªå®šä¹‰çš„ animation.duration é‡Œé¢å®ƒä¼šå®Œæˆè¿™ä¸ªåŠ¨ç”»æ•ˆæœï¼Œå¦‚ï¼š<br>å¯ä»¥å¯¹ä¸€ä¸ªè§†å›¾çš„ constraint outlet è¿›è¡Œä¸‰å…ƒæ“ä½œï¼Œç„¶åå®šä¹‰ä¸€ä¸ªåŸºæœ¬çš„åŠ¨ç”»æ•ˆæœ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">titleLabel.text &#x3D; isMenuOpen:  &quot;Select Item&quot; : &quot;Picking List&quot; </span><br><span class="line">MenuHeightConstraint.constant &#x3D; isMenuOpen ï¼Ÿ 200 : 60</span><br><span class="line"></span><br><span class="line">UIView.animate (</span><br><span class="line"> withDuration: 0.33, </span><br><span class="line"> delay: 0.0,</span><br><span class="line"> options: .curveEaseIn,</span><br><span class="line"> animations: &#123;</span><br><span class="line">    self.view.layoutIfNeeded()</span><br><span class="line"> &#125;</span><br><span class="line"> completion: nil )</span><br></pre></td></tr></table></figure>

<h3 id="Intermediate-Constraints"><a href="#Intermediate-Constraints" class="headerlink" title="Intermediate Constraints"></a>Intermediate Constraints</h3><p>å¯¹äºè¿›é˜¶ä¸€ç‚¹çš„çº¦æŸåŠ¨ç”»ï¼Œåœ¨è¿™é‡Œåªçš„æ˜¯åƒ <code>multiplier</code> ä¸€æ ·çš„ get only propertyã€‚ é€šå¸¸å¯ä»¥ä½¿ç”¨ Storyboard å’Œçº¯ä»£ç ä¸¤ç§æ–¹å¼è¿›è¡Œmultiplier constraint çš„è®¾ç½®ã€‚<br> åœ¨ä½¿ç”¨ Storyboard çš„æ—¶å€™ï¼Œå¯ä»¥è®¾ç½® <code>constraint.identifier</code>, ç„¶å isActive = false, å°±ç›¸å½“äºåˆ æ‰äº†è¿™ä¸ªçº¦æŸï¼Œç„¶åé€šè¿‡åˆ›å»ºä¸€ä¸ªä¸å…¶ identifier ç›¸åŒçš„ä¸€ä¸ªæ–°çš„çº¦æŸå³å¯ï¼Œç„¶åä¸è¦å¿˜è®°è®¾ç½® <code>isActive = true</code>, è¿™é‡Œçš„æ€æƒ³å°±æ˜¯æ—¢ç„¶å±æ€§åªæ˜¯å¯è¯»ï¼Œé‚£å°±å¹²è„†åˆ æ‰è¿™ä¸ªçº¦æŸï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªã€‚</p>
<p> åœ¨è¿™é‡Œï¼Œæˆ‘å¯¹äº frame.size.width å’Œ frame.width è¿™ä¸¤ä¸ªæ¦‚å¿µæ¨¡ç³Šä¸æ¸…, google æœåˆ°äº† stackoverflow ä¸Šçš„ä¸€ä¸ªå›ç­”ï¼Œåˆè‡ªå·±æŸ¥é˜…äº†æ–‡æ¡£ï¼Œç®—æ˜¯ææ˜ç™½äº†ã€‚</p>
<blockquote>
<p> Regardless of whether the height is stored in the CGRect data structure as a positive or negative number, this function returns the height as if the rectangle were standardized. That is, the result is never a negative number.<br>A CGSize structure is sometimes used to represent a distance vector, rather than a physical size. As a vector, its values can be negative. To normalize a CGRect structure so that its size is represented by positive values, call the standardized function.</p>
</blockquote>
<p>size æ˜¯å±äº CGSize ç»“æ„ä½“ï¼Œè€Œ frame æ˜¯å±äº CGRect ç»“æ„ä½“ï¼Œäºæ˜¯å·®åˆ«æ˜¾è€Œæ˜“è§äº†ï¼Œframe.width åªå¯ä»¥æ˜¯æ­£å€¼ï¼Œè€Œ frame.size.width å¯ä»¥æ˜¯è´Ÿå€¼ï¼Œå¯ä»¥é€šè¿‡ <code>standardized</code> æ–¹æ³•å–æ­£ã€‚<br>å¦å¤–ï¼Œå¯ä»¥é€šè¿‡å®šä¹‰çœ‹åˆ° CGRect å®šä¹‰çš„ width, height å±æ€§åªæœ‰ getterï¼Œ æ‰€ä»¥å½“æˆ‘ä»¬éœ€è¦ä¸ºå…¶èµ‹å€¼çš„æ—¶å€™ï¼Œå°±åªèƒ½ä½¿ç”¨ frame.size.width äº†</p>
<h3 id="Spring-Animation"><a href="#Spring-Animation" class="headerlink" title="Spring Animation"></a>Spring Animation</h3><p>åªéœ€è¦åœ¨ UIView.animate() ä¸­æ·»åŠ  <code>uingSpringWithDamping</code> and <code>initialSpringVolocity</code><br>Damping: éœ‡åŠ¨è¶Šå¤§ï¼Œè¶Šæ¥è¿‘äº 0ã€‚ä¸è¿‡ï¼Œå€¼çš„è®¾å®šè¿˜æ˜¯ä¼šå¸¦æ¥æ˜¾è€Œæ˜“è§çš„å·®åˆ«ï¼Œéœ€è¦æ›´å¤šçš„ä½¿ç”¨æ¥æ…¢æ…¢ä½“ä¼šã€‚</p>
<h3 id="View-Transitions"><a href="#View-Transitions" class="headerlink" title="View Transitions"></a>View Transitions</h3><p>å®ä¾‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">UIView.transition(</span><br><span class="line">        with: imageView,</span><br><span class="line">        duration: 1.0,</span><br><span class="line">        options: [</span><br><span class="line">          .curveEaseIn,</span><br><span class="line">          .transitionFlipFromBottom</span><br><span class="line">        ],</span><br><span class="line">        animations: &#123;</span><br><span class="line">          imageView.isHidden &#x3D; true</span><br><span class="line">        &#125;,</span><br><span class="line">        completion: &#123;_ in</span><br><span class="line">          imageView.removeFromSuperview()</span><br><span class="line">        &#125;</span><br><span class="line">      )</span><br></pre></td></tr></table></figure>
<p> å…¶å®ä¸»è¦å°±æ˜¯é€šè¿‡è¿™ä¸ªå‡½æ•°ï¼Œé€šè¿‡åœ¨ animations çš„é—­åŒ…é‡Œçš„ triggers è§¦å‘åŠ¨ç”»å‘ç”Ÿçš„æ¡ä»¶ï¼Œæ¯”å¦‚ <code>isHidden</code>, <code>addSubview()</code>, <code>removeFromSuperview()</code> ç­‰ï¼Œåœ¨ options é‡Œå¯ä»¥å¯¹å„ç§åŠ¨ç”»æ•ˆæœè¿›è¡Œç»„åˆï¼Œå¾€å¾€ä¼šæœ‰å¾ˆé…·ç‚«çš„æ•ˆæœ~<br> å¦å¤–ï¼Œä¸€äº› button å¾€å¾€éœ€è¦ä¿è¯å…¶åœ¨å‘ç”ŸåŠ¨ç”»çš„æ—¶å€™ä¹Ÿå¯ä»¥è¿›è¡Œäº¤äº’ï¼Œæ­¤æ—¶å¯ä»¥åœ¨ options ä¸­æ·»åŠ  <code>.allowUserInteraction</code></p>
<h3 id="Beginning-View-Animations"><a href="#Beginning-View-Animations" class="headerlink" title="Beginning View Animations"></a>Beginning View Animations</h3><p>å…³äºä¸€ä¸ª View é€šå¸¸æœ‰ä¸‰ç±» property å¯ä»¥ animate </p>
<ul>
<li>Position &amp; Size<ul>
<li>boundsï¼š Repositions a viewâ€™s content</li>
<li>frame:  to move or resize a view</li>
<li>center: mvoe a view to a new location onscreen</li>
</ul>
</li>
<li>Transformation:  <ul>
<li>transform: <ul>
<li>translation</li>
<li>rotation</li>
<li>scale</li>
</ul>
</li>
</ul>
</li>
<li>Appearance: <ul>
<li>backgroundColor</li>
<li>alpha: creates fade in and fade out effects</li>
</ul>
</li>
</ul>
<p>è¿™é‡Œæ¯”è¾ƒå®ç”¨çš„æ¯”å¦‚é€šè¿‡è®¾ç½® alpha å€¼å®ç°æ¸å˜æ•ˆæœï¼Œé€šè¿‡è®¾ç½® center æˆ–è€… frameï¼Œå½“ label çš„å€¼æ”¹å˜æ—¶ï¼Œå¯ä»¥æœ‰è½¬å˜çš„æ•ˆæœã€‚å…¶æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>Create &amp; Set up helper view</li>
<li>Fade helper view</li>
<li>Update background view and remove helper view </li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let overlayView &#x3D; UIImageView(frame: bgImageView.frame)</span><br><span class="line">    overlayView.image &#x3D; toImage</span><br><span class="line">    overlayView.alpha &#x3D; 0.0</span><br><span class="line">    bgImageView.superview?.insertSubview(overlayView, aboveSubview: bgImageView)</span><br><span class="line">    </span><br><span class="line">    UIView.animate(</span><br><span class="line">        withDuration: 0.5,</span><br><span class="line">        animations: &#123;</span><br><span class="line">            &#x2F;&#x2F;Fade helper view</span><br><span class="line">            overlayView.alpha &#x3D; 1.0</span><br><span class="line">        &#125;,</span><br><span class="line">        completion: &#123; _ in</span><br><span class="line">            &#x2F;&#x2F;Update background view and remove helper view</span><br><span class="line">            self.bgImageView.image &#x3D; toImage</span><br><span class="line">            overlayView.removeFromSuperview()</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;Add </span><br><span class="line">    overlayView.center.y +&#x3D; 20</span><br><span class="line">    overlayView.bounds.size.width &#x3D; bgImageView.bounds.size.width * 1.3</span><br><span class="line">    </span><br><span class="line">    In UIView.animate closure &#123;</span><br><span class="line">     overlayView.center.y -&#x3D; 20</span><br><span class="line">            overlayView.bounds.size &#x3D; self.bgImageView.bounds.size</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Intermediate-View-Animations"><a href="#Intermediate-View-Animations" class="headerlink" title="Intermediate View Animations"></a>Intermediate View Animations</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">func moveLabel(</span><br><span class="line">    label: UILabel,</span><br><span class="line">    text: String,</span><br><span class="line">    offset: CGPoint</span><br><span class="line">  ) &#123;</span><br><span class="line">    &#x2F;&#x2F;Create &amp; Set up helper label</span><br><span class="line">    let auxLabel &#x3D; duplicateLabel(label: label)</span><br><span class="line">    auxLabel.text &#x3D; text</span><br><span class="line">    </span><br><span class="line">    auxLabel.transform &#x3D; CGAffineTransform(translationX: offset.x, y: offset.y)</span><br><span class="line">    auxLabel.alpha &#x3D; 0</span><br><span class="line">    view.addSubview(auxLabel)</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;Fade out &amp; translate real label</span><br><span class="line">    UIView.animate(</span><br><span class="line">        withDuration: 0.5,</span><br><span class="line">        delay: 0,</span><br><span class="line">        options: .curveEaseIn,</span><br><span class="line">        animations: &#123;</span><br><span class="line">            label.transform &#x3D; CGAffineTransform(translationX: offset.x, y: offset.y)</span><br><span class="line">            label.alpha &#x3D; 0</span><br><span class="line">        &#125;,</span><br><span class="line">        completion: nil</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;Fade in &amp; translate helper label</span><br><span class="line">    UIView.animate(</span><br><span class="line">        withDuration: 0.25,</span><br><span class="line">        delay: 0.0,</span><br><span class="line">        options: .curveEaseIn,</span><br><span class="line">        animations: &#123;</span><br><span class="line">&#x2F;&#x2F;            auxLabel.transform &#x3D; CGAffineTransform(translationX: -offset.x, y: -offset.y)</span><br><span class="line">            auxLabel.transform &#x3D; .identity</span><br><span class="line">            auxLabel.alpha &#x3D; 1</span><br><span class="line">    &#125;,</span><br><span class="line">        completion: &#123; _ in</span><br><span class="line">            &#x2F;&#x2F;Update real label &amp; remove helper label</span><br><span class="line">            label.text &#x3D; text</span><br><span class="line">            label.alpha &#x3D; 1</span><br><span class="line">            label.transform &#x3D; .identity</span><br><span class="line">            </span><br><span class="line">            auxLabel.removeFromSuperview()</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<h3 id="Keyframe-Animations"><a href="#Keyframe-Animations" class="headerlink" title="Keyframe Animations"></a>Keyframe Animations</h3><p>é€šè¿‡ <code>UIView.animateKeyframes</code> å‡½æ•°ï¼Œåœ¨ animations çš„é—­åŒ…é‡Œä¸æ–­çš„æ·»åŠ  <code>UIView.addKeyframe</code> æ¥åˆ›å»ºä¸€æ®µæ®µçš„åŠ¨ç”»ï¼Œçœ‹èµ·æ¥ç®€å•ï¼Œä½†å½“é¢å¯¹ä¸€ä¸ªåŠ¨ç”»æ•ˆæœï¼Œå¦‚ä½•é€šè¿‡åˆ†æå°†å…¶æ‹†è§£æˆå¤šä¸ªå°éƒ¨åˆ†ï¼Œå¹¶è¾ƒä¸ºå‡†ç¡®çš„è®¾ç½® <code>Duration</code> å’Œ <code>startTime</code>ï¼Œè®©åŠ¨ç”»çœ‹èµ·æ¥æµç•…æ‰æ˜¯éš¾ç‚¹ã€‚è¿™ä¸ªè¿‡ç¨‹å¾€å¾€éœ€è¦è°ƒè¯•å¾ˆå¤šå¾ˆå¤šæ¬¡ã€‚</p>
<p>###Beginning View Controller Transitions<br>æ¯ä¸€ä¸ªè¿‡æ¸¡éƒ½ç¦»ä¸å¼€ transition contextï¼Œå®ƒåŒ…å«ä¸€ä¸ª <code>containerView</code>, å¯ä»¥è§†ä¸ºä¸€ä¸ª superviewã€‚<br>è‡ªå®šä¹‰è¿‡æ¸¡åŠ¨ç”»ï¼Œéœ€è¦ç»§æ‰¿ä¸¤ä¸ª delegate ï¼š</p>
<ul>
<li><code>UIViewControllerTransitioningDelegate</code> ï¼š æ¯æ¬¡ä½  present æˆ–è€… dismiss ä¸€ä¸ª VCçš„æ—¶å€™  UIKit éƒ½ä¼šè¯¢é—®è¿™ä¸ª delegate æ˜¯å¦ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰çš„è¿‡æ¸¡åŠ¨ç”»ï¼Œå®ƒæœ‰ä¸¤ä¸ª required methodï¼Œåˆ†åˆ«å¯¹åº” present å’Œ dismiss çš„å…·ä½“è¡Œä¸º</li>
<li><code>UIViewConrollerAnimatedTransitioning</code>: ç»§æ‰¿è¿™ä¸ª delegate çš„ç±»å¾€å¾€å«åš animator, ä¹Ÿå°±æ˜¯å…¶å…·ä½“å®šä¹‰åŠ¨ç”»çš„æ–¹å¼ã€‚å…¶ä¸­ï¼Œ<code>transitionDuration</code> å®šä¹‰åŠ¨ç”»çš„æ—¶é—´ï¼Œè€Œ <code>animateTransition</code> åˆ™å…·ä½“å®ç°åŠ¨ç”»çš„å†…å®¹ã€‚</li>
</ul>
<p>ä½ éœ€è¦é€šè¿‡åœ¨ç»§æ‰¿ç¬¬ä¸€ä¸ªåè®®çš„ç±»ä¸­å£°æ˜å®ƒçš„ä»£ç†æ˜¯ç»§æ‰¿äº†ç¬¬äºŒä¸ªåè®®çš„ç±»ï¼Œè¿™æ ·å­æ‰èƒ½å°†ä¸¤ä¸ªåè®®è¿æ¥èµ·æ¥ï¼š<br><code>detailViewController.transitioningDelgate = view controller</code></p>
<p>åˆ›å»ºè¿‡æ¸¡åŠ¨ç”»çš„è¿‡ç¨‹ä¹Ÿé€šå¸¸æœ‰ä¸‰æ­¥ï¼š</p>
<ol>
<li>Set up transition</li>
<li>animate!</li>
<li>complete transition </li>
</ol>
<p>çŸ¥é“çœŸç›¸çš„æˆ‘çœ¼æ³ªæ‰ä¸‹æ¥ï¼Œè¿™ä¸æ˜¯å’Œå¦‚ä½•æŠŠå¤§è±¡ğŸ˜è£…åˆ°å†°ç®±ä¸€æ ·ä¹ˆâ€¦. lol<br>å½“ç„¶ï¼Œå…¶å®å…·ä½“çš„å®ç°æ˜¯éå¸¸çš„å¤æ‚..<br>è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€ä¸ªå°å‘ï¼Œå°±æ˜¯å¾€å¾€åœ¨ç¬¬ä¸€æ­¥é‡Œé¢ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®å¥½æ‰€æœ‰æƒ³è¦åŠ¨ç”»çš„è¯•å›¾çš„èµ·å§‹çŠ¶æ€ï¼Œæ¯”å¦‚è¯´å®ƒçš„ä½ç½®ï¼Œå®ƒçš„å¤§å°ï¼Œè€Œå¾€å¾€å®ƒçš„ frame å’Œæˆ‘ä»¬åœ¨ animator é‡Œé€šè¿‡ containerView è°ƒç”¨çš„ frame å¹¶ä¸åœ¨ç»Ÿä¸€åæ ‡ç³»é‡Œé¢ï¼Œæ‰€ä»¥ä¼šé€ æˆåŠ¨ç”»æ•ˆæœå¤±è´¥ï¼Œè¿™æ—¶, å¯ä»¥é€šè¿‡è°ƒç”¨ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">convert(_ rect: to view:)</span><br></pre></td></tr></table></figure>
<p>å®ƒçš„ä½œç”¨åœ¨äºå°†ä¸€ä¸ª çŸ©å½¢ä» receiver çš„åæ ‡ç³»è½¬ç§»åˆ°å¦ä¸€ä¸ªè§†å›¾æ‰€åœ¨çš„åæ ‡ç³»ï¼Œå¦‚ä½•å…¶è®¾ç½®ä¸º nil, åˆ™ä¼šè½¬ç§»åˆ° window æ‰€åœ¨çš„åæ ‡ç³»ï¼Œè¿™ä¸ªåæ ‡ç³»ä¹Ÿå¾€å¾€ä¼šå’Œè¿›è¡Œè½¬åœºåŠ¨ç”»æ‰€åœ¨çš„ VC çš„åæ ‡ç³»ç›¸åŒã€‚ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">transition.originFrame &#x3D; selectedImage!.superview!.convert(  selectedImage!.frame,to: nil )</span><br></pre></td></tr></table></figure>

<h3 id="Intermediate-View-Controller-Transitions"><a href="#Intermediate-View-Controller-Transitions" class="headerlink" title="Intermediate View Controller Transitions"></a>Intermediate View Controller Transitions</h3><p>è¿™ä¸€èŠ‚æ›´å¤šçš„æ˜¯å…·ä½“çš„ä¸€äº›ç»†èŠ‚ä¼˜åŒ–ï¼Œå¦‚åœ†è§’åŠ¨ç”»ç­‰ç­‰</p>
<h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>å¼€å‘è€…åœ¨è®¾è®¡ä¸€ä¸ªåŠ¨ç”»çš„æ—¶å€™ï¼Œ è¦ææ¸…æ¥šå®ƒçš„ç›®çš„ï¼Œå¹¶ä¸”éµå¾ª Appleâ€™ design paradigms å’Œ Human User Interface, å¥½çš„åŠ¨ç”»å¾€å¾€èƒ½æ›´ç›´è§‚çš„è¡¨è¾¾ä¿¡æ¯ã€‚è¿‡äºå¤æ‚çš„åŠ¨ç”»åè€Œä¼šæ˜¾å¾—ç´¯èµ˜ï¼Œè®©äº¤äº’çœ‹èµ·æ¥è´¹åŠ²ã€‚</p>

      </div>
      <div class="post-copyright">
    <p class="copyright-item">
      <span>Author: </span>
      <a href="http://silksong.me">SONG Zixin</a>
    </p>
    <p class="copyright-item">
      <span>Link: </span>
      <a href="http://silksong.me/2017/07/18/Beginning-iOS-Animations/">http://silksong.me/2017/07/18/Beginning-iOS-Animations/</a>
    </p>
    <p class="copyright-item">
      <span>License: </span><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>
    </p>
  </div>
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/iOS/">iOS</a>
            <a href="/tags/Swift/">Swift</a>
            <a href="/tags/Animations/">Animations</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/2017/07/24/dismiss-keyboard/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default"><è¯‘> Best Way to dismiss Keyboard in a View Controller iOS (Swift)</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    <a class="next" href="/2017/07/14/iOS-Apprentice-Part-2-Checklist-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
        <span class="next-text nav-default">iOS Apprentice Part 2 Checklist å­¦ä¹ ç¬”è®°</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"><div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:szxsilk@gmail.com" class="iconfont icon-email" title="email"></a>
        <a href="https://github.com/SilkSong" target="_blank" rel="noopener" class="iconfont icon-github" title="github"></a>
        <a href="https://twitter.com/silk_Song001" target="_blank" rel="noopener" class="iconfont icon-twitter" title="twitter"></a>
        <a href="https://stackoverflow.com/users/4259766/silk-song" target="_blank" rel="noopener" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">Even</a>
  </span>

  <span class="copyright-year">&copy;2017 - 2020<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">SONG Zixin</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://silksong.me/2017/07/18/Beginning-iOS-Animations/';
        this.page.identifier = '2017/07/18/Beginning-iOS-Animations/';
        this.page.title = 'Beginning iOS Animations';
    };
    (function() {
    var d = document, s = d.createElement('script');

    s.src = '//silksong.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();  
  </script><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
