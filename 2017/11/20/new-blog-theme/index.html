<!DOCTYPE html>
<html lang="zh-CN">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="博客好久没写了，近期准备重新拾起来，正巧发现了一个很不错的主题 even, 查看了一下文档也很友好，就打算把主题换一下，之前网站上缺的评论，目录，RSS订阅和底部社交链接等小功能也一起补上，折腾了几个小时，踩了几个小坑，记录一下。"/><meta name="keywords" content="blog, SilkSong's Blog" /><link rel="alternate" href="/default" title="SilkSong's Blog"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="http://silksong.me/2017/11/20/new-blog-theme/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":"","latex":false};
</script>

    <title>博客更换主题采坑记 - SilkSong's Blog</title>
  <meta name="generator" content="Hexo 4.2.0"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">SilkSong's Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">首页
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">归档
          </li>
      </a><a href="/tags">
        <li class="mobile-menu-item">标签
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">SilkSong's Blog</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            首页
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            归档
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            标签
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">博客更换主题采坑记
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-11-20
        </span></div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#hexo-插件无法安装"><span class="toc-text">hexo 插件无法安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git-submodule-error"><span class="toc-text">Git submodule error</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git-版本回退和强制-push"><span class="toc-text">Git 版本回退和强制 push</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#域名解析"><span class="toc-text">域名解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-text">总结</span></a></li></ol>
    </div>
  </div><div class="post-content"><p>博客好久没写了，近期准备重新拾起来，正巧发现了一个很不错的主题 <a href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">even</a>, 查看了一下文档也很友好，就打算把主题换一下，之前网站上缺的评论，目录，RSS订阅和底部社交链接等小功能也一起补上，折腾了几个小时，踩了几个小坑，记录一下。</p>
<h2 id="hexo-插件无法安装"><a href="#hexo-插件无法安装" class="headerlink" title="hexo 插件无法安装"></a>hexo 插件无法安装</h2><p>按照文档，需要先通过 npm 安装 hexo-renderer-scss 插件，<br><code>npm install hexo-renderer-scss --save</code><br>但是我的 iTerm 上根本下载不下来，Google 搜索到了一个 <a href="https://github.com/tufu9441/maupassant-hexo/issues/225" target="_blank" rel="noopener">issue</a>，事实上我通过更换为淘宝源和把我的代理更换为全局模式都解决了这个问题</p>
<h2 id="Git-submodule-error"><a href="#Git-submodule-error" class="headerlink" title="Git submodule error"></a>Git submodule error</h2><p>所以本地工作完成后，我使用 <code>git add .</code> 命令添加，发现了一个 <em>modified content, untracked content</em> 的错误，无论如何也没法 commit，也不知哪里出了问题，试着用这行字搜索，发现这是一个常见的 submodule error, 因为之前添加主题的时候，clone 了那个主题 repo 放到了 theme 文件夹中，所以就形成了一个 submodule，简单的做法，进入 theme/even 文件夹，执行 <code>rm -rf .git</code> 命令删掉 .git 就好了</p>
<h2 id="Git-版本回退和强制-push"><a href="#Git-版本回退和强制-push" class="headerlink" title="Git 版本回退和强制 push"></a>Git 版本回退和强制 push</h2><p>为了解决上一条错误，作为一个 git 小白，我不知怎么的，把 theme 文件夹的内容 push 到了远端仓库，而且本地仓库也被修改了，幸好我在进行一系列 XJB 操作之前，复制了一份文件。当我要把这份备份文件 push 到远端仓库的时候，报错说无法 push, 我的本地仓库落后了几个 commits, 需要先 git pull 云云。我搜索了一下，可以使用 <code>git push -f</code> 的方法暴力（force) push，明确好远端仓库没有我需要保存的内容后，我使用 <code>git push -f</code> 成功把本地的内容同步到了远端仓库。在这个过程中，我还学会了 <code>git log</code> 用来查看 commit, 和通过 <code>git reset --hard commitid</code> 的方法进行版本回退。</p>
<h2 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h2><p>因为经过了 force push，Github 上仓库上关联的 Custom domain 给删去了，导致我直接输入域名显示 404，重新添加上以后，又确认好 CNAME 文件书写正确，使用命令 <code>hexo g</code> <code>hexo d</code>，就成功打开了我的博客。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在这个过程里，自己掌握了一些前端的知识，还深刻的掌握了几个 git 命令，发现还是在实践中才能掌握好知识。网站算是完善好了，不过相比较关注那些功能和主题，最重要的还是内容。希望自己能重新拾起博客，记录技术，记录生活，相信多年以后，这会是一笔宝贵的财富。我也会一直坚持下去，乐在其中。</p>

      </div>
      <div class="post-copyright">
    <p class="copyright-item">
      <span>原文作者: </span>
      <a href="http://silksong.me">SONG Zixin</a>
    </p>
    <p class="copyright-item">
      <span>原文链接: </span>
      <a href="http://silksong.me/2017/11/20/new-blog-theme/">http://silksong.me/2017/11/20/new-blog-theme/</a>
    </p>
    <p class="copyright-item">
      <span>许可协议: </span><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/blog/">blog</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/2019/06/14/%E9%87%91%E5%B7%9E%E5%8B%87%E5%A3%AB%E8%BE%93%E4%BA%86/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">金州勇士输了</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    <a class="next" href="/2017/07/31/elegant-edit-mode-method/">
        <span class="next-text nav-default">一种简洁的 Edit Mode 实现方式</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"><div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:szxsilk@gmail.com" class="iconfont icon-email" title="email"></a>
        <a href="https://github.com/SilkSong" target="_blank" rel="noopener" class="iconfont icon-github" title="github"></a>
        <a href="https://twitter.com/silk_Song001" target="_blank" rel="noopener" class="iconfont icon-twitter" title="twitter"></a>
        <a href="https://stackoverflow.com/users/4259766/silk-song" target="_blank" rel="noopener" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">Even</a>
  </span>

  <span class="copyright-year">&copy;2017 - 2021<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">SONG Zixin</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://silksong.me/2017/11/20/new-blog-theme/';
        this.page.identifier = '2017/11/20/new-blog-theme/';
        this.page.title = '博客更换主题采坑记';
    };
    (function() {
    var d = document, s = d.createElement('script');

    s.src = '//silksong.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();  
  </script><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
